<div class="container">
  <!-- Thumbnail -->
  <% if @article.thumbnail.attached? %>
    <%= image_tag @article.thumbnail.variant(resize_to_limit: [300, 300]) %>

  <% end %>

  <!-- Article Details -->
  <div id="<%= dom_id @article %>">
    <h3><%= @article.title %></h3>
    <p><%= @article.description %></p>
    <p>
      <strong>Location:</strong> <%= @article.location %>
    </p>
    <p>
      <strong>Views:</strong> <%= @article.views %>
    </p>
    <p>
    Posted by: <%= link_to @article.user.username, user_path(@article.user) %> <span class="small">- <%= @article.created_at.strftime('%B %d, %Y') %></span>
      
    </p>
  </div>

  <hr> 

  <!-- Article Content -->
  <div>
    <%= @article.content %>
  </div>


  <div>
   <%= render partial: 'shared/action_buttons', locals: { resource: @article, resource_type: 'article' } %>
  </div>

  <div class="mt-3">
<% if current_user.moderator? %>
  <% if @article.pinned? %>
    <%= button_to 'Unpin', unpin_article_path(@article), method: :delete %>
  <% else %>
    <%= button_to 'Pin', pin_article_path(@article), method: :post %>
  <% end %>
<% end %>
  </div>


  <hr>

  <!-- Comments Section -->
  <%= render partial: 'shared/comments_section', locals: { comments: @comments, commentable: @article } %>

</div>


